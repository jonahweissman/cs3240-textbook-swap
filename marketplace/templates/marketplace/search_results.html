{% extends 'marketplace/base.html' %}

{% block content %}
<h1>Search results for "{{ query }}"</h1>
<div class="list-group">
	{% for item in page_obj.object_list %}
	<div class="card text-center">
  <div class="card-header bg-secondary text-white"> <strong> Title: {{item.item_name}} </strong> </div>
  <div class="card-body bg-secondary text-white">
    <h5 class="card-title text-white">Price: ${{item.item_price}}</h5>
    <p class="card-text">Info: {{item.item_description}}</p>
    <a href="#" class="btn btn-info">Go to Listing</a>
  </div>
  <div class="card-footer text-white bg-secondary">
    Posted by {{item.item_seller_name.user.username}}
  </div>
</div>
	<br>
	{% empty %}
	<div class="jumbotron">
		<div class="display-4">No results found</div>
	</div>
	{% endfor %}
</div>

<div class="row justify-content-around">
{% if page_obj.has_previous %}
<div class="col-4">
	<form action="{% url 'marketplace:search' %}">
		<input type="hidden" name="query" value="{{ query }}">
		<input type="hidden" name="page" value="{{ previous_page }}">
		<input type="submit" value="&larr; previous page" class="btn">
	</form>
</div>
{% endif %}
{% if page_obj.has_next %}
<div class="col-4">
	<form action="{% url 'marketplace:search' %}">
		<input type="hidden" name="query" value="{{ query }}">
		<input type="hidden" name="page" value="{{ next_page }}">
		<input type="submit" value="next page &rarr;" class="btn">
	</form>
</div>
{% endif %}
</div>
{% endblock %}
